<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>滑动门特效</title>
</head>
<style type="text/css">
*{
	margin: 0;
	padding: 0;
}
#container{
	height:488px;
    overflow: hidden;
    position: relative;
    margin: 0 auto;
    border:1px solid #ccc;
}
#container img{
	position: absolute;
	left:0;
	display: block;
}

</style>
<body>
	<div id="container">
		<img src="images/door1.png">
		<img src="images/door2.png">
		<img src="images/door3.png">
		<img src="images/door4.png">	
	</div>
	<script type="text/javascript">
	window.onload=function(){
		var box=document.getElementById("container");
		var img=box.getElementsByTagName("img");
		var imgWidth=img[0].offsetWidth;//单道门的宽度
		var expodeWidth=160; //露出来的宽度
		var boxWidth=imgWidth+expodeWidth*(img.length-1)+'px';
		box.style.width=boxWidth;
		//每道门的初始位置
		function setImgsPos(){
		for(var i=1;i<img.length;i++){
			img[i].style.left=imgWidth+expodeWidth*(i-1)+'px';
		}
	}
	     setImgsPos();
          for(var i=0;i<img.length;i++)
          { 
          	//立即调用函数
          	(function(i){
          		img[i].onmouseover=function(){
          			//先对每道门复位
          			setImgsPos();
          			for(var j=1;j<=i;j++){
          				img[j].style.left=parseInt(img[j].style.left,10)-(imgWidth-expodeWidth)+'px';
          			}
          		}

          	})(i);
          }
    }
	</script>
	
</body>
</html>